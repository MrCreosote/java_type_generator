package us.kbase.test6;

import us.kbase.test6.authtest.AuthtestClient;

import junit.framework.Assert;

public class Test6 {
	
	public Test6(AuthtestClient client) throws Exception {
		try {
			client.callWithAuth("");
			Assert.fail("Method shouldn't work because it requires authentication");
		} catch (Throwable ignore) {}
		Assert.assertEquals("0", client.callWithOptAuth("0"));
		client = new AuthtestClient("http://localhost:9996", "kbasetest", "@Suite525");
		client.setAuthAllowedForHttp(true);
		Assert.assertEquals("1", client.callWithAuth("1"));
		Assert.assertEquals("2", client.callWithOptAuth("2"));
	}
}