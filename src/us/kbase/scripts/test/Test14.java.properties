package us.kbase.test14;

import java.util.Arrays;

import us.kbase.common.service.UObject;
import us.kbase.test14.rpccontext.Context;
import us.kbase.test14.rpccontext.RpcContextClient;

import junit.framework.Assert;

public class Test14 {
	
	public Test14(RpcContextClient client) throws Exception {
		Context context = new Context().withMethods(Arrays.asList("m1"));
		us.kbase.common.service.Context rpcContext = new us.kbase.common.service.Context()
		    .withCallStack(Arrays.asList(new us.kbase.common.service.MethodCall().withMethod("m2")));
		context = client.sendContext(context, rpcContext);
		Assert.assertEquals("{\"methods\":[\"m1\",\"m2\",\"send_context\"]}", UObject.transformObjectToString(context));
	}
}